<!DOCTYPE html>
<html>
    <head>
        <title>Jquery Formulae</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script src="../src/jquery.formulae.js"></script>
        <link rel="stylesheet" type="text/css" href="../src/jquery.formulae.css"  media='all'/>
    </head>
    <body>
        <script>
            $(function () {
                $("#formula").jqueryFormulae({
                    inputs: {
                        "sensors":{
                            'label': 'sensors',
                            'name':'sensors',
                            'class': 'sensorselect',
                            'type': 'select',
                            'values': {
                                1: {'label': 'sensor1', 'value': 100},
                                2: {'label': 'sensor2', 'value': 200},
                                3: {'label': 'sensor3', 'value': 300},
                                4: {'label': 'sensor4', 'value': 400}
                            }
                        },
                        "pricing":{
                            'label': 'Product prices',
                            'name':'pricing',
                            'class': 'sensorselect',
                            'type': 'select',
                            'values': {
                                1: {'label': 'T-shirt', 'value': 20.5},
                                2: {'label': 'Sweater', 'value': 49.9},
                                3: {'label': 'Pants', 'value': 80},
                                4: {'label': 'Jewelry', 'value': 289}
                            }
                        }
                    }
                });

                // calculate script. 
                $('#test').submit(function (e) {
                    e.preventDefault();
                    var data = $(this).serializeArray();
                    console.log(data);
                    var result = '';
                    $.each(data, function (index, formula) {
                        result = result + formula['value'];
                    });
                    $('pre').html(eval(result));
                });
            });
        </script>
        <div class="container">
            <div class="row">
                <div class="page-header">
                    <h1>Jquery Formulae <small>Build formula's with your own dependencies</small></h1>
                </div>
                <form id="test">
                    <div id="formula"></div>
                    <button type="submit" class="btn btn-success">Calculate</button>
                </form>
            </div>
            <div class="row">
                <hr/>
                <pre></pre>
            </div>
        </div>
    </body>
</html>
